scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node16:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node17:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node18:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node19:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node20:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node21:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/
scp -r /home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/*  user@node22:/home/user/mzq/workspaces/project/dear_pytorch/ATC24-FG-MGS/fgmgs_ours/


# HOROVOD_GPU_OPERATIONS=NCCL HOROVOD_CACHE_CAPACITY=0 bash run.sh
# dnn="${dnn:-resnet20}"
# source exp_configs/$dnn.conf
# nworkers="${nworkers:-4}"
density="${density:-0.000438799}"
threshold="${threshold:-8192}"
# compressor="${compressor:-topk}"
compressor="${compressor:-eftopk}"
max_epochs="${max_epochs:-10}"
nwpernode=4
nstepsupdate=1
PY=python


HOROVOD_GPU_OPERATIONS=NCCL HOROVOD_CACHE_CAPACITY=0 horovodrun -np 8 -H node15:1,node16:1,node17:1,node18:1,node19:1,node20:1,node21:1,node22:1   python  pytorch_cifar100_resnet152_time.py  --epochs $max_epochs --density $density --compressor $compressor --threshold $threshold

# 1k = [[0.006394624710083008], [0.005856513977050781], [0.005647897720336914], [0.006305217742919922], [0.006446361541748047], [0.005773067474365234], [0.006258964538574219], [0.0061419010162353516], [0.0065402984619140625], [0.0059888362884521484], [0.006014585494995117], [0.00576019287109375], 
# 10k =  [[0.005650520324707031], [0.005836009979248047], [0.005956888198852539], [0.0062487125396728516], [0.006234884262084961], [0.006178379058837891], [0.005805492401123047], [0.0061473846435546875], [0.0062694549560546875], [0.006371021270751953], [0.006134033203125], [0.005803346633911133], [0.006258487701416016]
# 100k = [[0.02068328857421875], [0.013814210891723633], [0.018816232681274414], [0.018593549728393555], [0.01967644691467285], [0.013471364974975586], [0.017330408096313477], [0.017192363739013672], [0.019269704818725586], [0.012498140335083008], [0.018909454345703125], [0.017659902572631836], 
# 100k = [[0.00969243049621582], [0.008953094482421875], [0.00930643081665039], [0.008744239807128906], [0.008772611618041992], [0.008155107498168945], [0.008311748504638672], [0.009290695190429688], [0.007741451263427734], [0.007641315460205078], [0.00804901123046875], [0.010876178741455078], [0.00967550277709961],

# 1000k = [[0.024565696716308594], [0.0245058536529541], [0.022612810134887695], [0.021360397338867188], [0.022612333297729492], [0.026383399963378906], [0.024899959564208984], [0.025161266326904297], [0.02340865135192871], [0.024164199829101562], [0.02498006820678711], [0.025043487548828125]
# 10000k = [[0.13153839111328125], [0.1209404468536377], [0.12172245979309082], [0.11997294425964355], [0.12124085426330566], [0.12096571922302246], [0.12012195587158203], [0.12128663063049316], [0.12142324447631836], [0.11944365501403809], [0.12124824523925781], [0.11994576454162598]
# 100000k = [[0.500725269317627, 0.0012946128845214844], [1.015467643737793, 0.0009701251983642578], [1.0159094333648682, 0.0015153884887695312], [1.0163006782531738, 0.0013506412506103516], [1.0035243034362793, 0.0020029544830322266], [1.0097582340240479, 0.0019750595092773438], [1.0104954242706299, 0.001634359359741211], [1.0105273723602295, 0.0017316341400146484], [1.0079460144042969, 0.001013040542602539], [1.0104577541351318, 0.0013871192932128906],


